<div class="grid">
  <div class="col-12 text-right" style="padding: 0; margin: 0px 0 -25px 0;">
    <p-button icon="pi pi-plus" styleClass="p-button-sm" (onClick)="addNewParent()"></p-button>
  </div>
  <div class="col-12">
    <ul style="list-style-type: none;">
      <ng-container *ngTemplateOutlet="Recursion; context:{ list: menuItems}"></ng-container>
    </ul>
    <ng-template #Recursion let-list="list" let-parent="parent">
      <li *ngFor="let item of list;let index = index" style="list-style-type: none;">
        <div class="grid align-items-center">
          <div class="md:col-5">
            <div class="field">
              <label for="Menu Name" class="required">Menu Name</label>
              <input
                pInputText
                id="Menu Name"
                placeholder="Enter Menu Name"
                class="w-full"
                [(ngModel)]="item.label"
              />
            </div>
          </div>
          <div class="md:col-4">
            <div class="field">
              <label for="Menu Name" class="required">Icon</label>
              <input
                pInputText
                id="Menu Name"
                placeholder="Example pi pi-pencil"
                class="w-full"
                [(ngModel)]="item.icon"
              />
            </div>
          </div>
          <div class="md:col-3">
            <p-button icon="pi pi-plus" styleClass="p-button-sm" (onClick)="addNew(item)" [disabled]="!(item.label && item.icon)"></p-button>
            <p-button icon="pi pi-minus" styleClass="p-button-sm ml-2" (onClick)="deleteNode(parent ,index)"></p-button>
          </div>
        </div>
        <ul *ngIf="item.items && item.items.length > 0">
          <ng-container
            *ngTemplateOutlet="Recursion; context:{ list: item.items, parent: item }"
          ></ng-container>
        </ul>
      </li>
    </ng-template>
  </div>
</div>

